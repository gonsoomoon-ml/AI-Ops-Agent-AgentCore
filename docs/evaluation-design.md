# OpsAgent Evaluation Design

> ì‘ë‹µ í’ˆì§ˆ í‰ê°€ ë° ìê¸° ìˆ˜ì •(Self-Correcting) ì‹œìŠ¤í…œ ì„¤ê³„
> ì‘ì„±ì¼: 2026-01-31

---

## ëª©ì°¨

1. [ê°œìš”](#1-ê°œìš”)
2. [í‰ê°€ê°€ í•„ìš”í•œ ì´ìœ ](#2-í‰ê°€ê°€-í•„ìš”í•œ-ì´ìœ )
3. [ì—°êµ¬ ê¸°ë°˜ ì¸ì‚¬ì´íŠ¸](#3-ì—°êµ¬-ê¸°ë°˜-ì¸ì‚¬ì´íŠ¸)
4. [ë„êµ¬ë³„ í‰ê°€ ê¸°ì¤€](#4-ë„êµ¬ë³„-í‰ê°€-ê¸°ì¤€)
5. [ë‹¤ì¤‘ ë„êµ¬ ìƒê´€ê´€ê³„ í‰ê°€](#5-ë‹¤ì¤‘-ë„êµ¬-ìƒê´€ê´€ê³„-í‰ê°€)
6. [í‰ê°€ ì•„í‚¤í…ì²˜](#6-í‰ê°€-ì•„í‚¤í…ì²˜)
7. [êµ¬í˜„ ê³„íš](#7-êµ¬í˜„-ê³„íš)
8. [ì°¸ì¡°](#8-ì°¸ì¡°)

---

## 1. ê°œìš”

OpsAgentì˜ ì‘ë‹µ í’ˆì§ˆì„ ë³´ì¥í•˜ê¸° ìœ„í•œ í‰ê°€ ì‹œìŠ¤í…œì„ ì„¤ê³„í•©ë‹ˆë‹¤.

### í•µì‹¬ ê°œë…

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    OpsAgent Workflow                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚   [User Query]                                              â”‚
â”‚        â†“                                                    â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚   â”‚ Analyze â”‚â”€â”€â”€â–¶â”‚  Evaluate  â”‚â”€â”€â”€â–¶â”‚  Decide  â”‚            â”‚
â”‚   â”‚ (Agent) â”‚    â”‚ (Checkers) â”‚    â”‚  (SOP)   â”‚            â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜            â”‚
â”‚        â–²                                â”‚                   â”‚
â”‚        â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚        â”‚         â†“                      â†“          â†“       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚Regenerateâ”‚â—€â”€â”‚REGENERATEâ”‚      â”‚   PASS   â”‚  â”‚ BLOCK â”‚  â”‚
â”‚   â”‚(Feedback)â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â†“                   â”‚
â”‚                                   [Return to User]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì‚¬ìš© ë„êµ¬

| ë„êµ¬ | ë°ì´í„° ìœ í˜• | ê²€ì¦ ë‚œì´ë„ |
|------|------------|------------|
| **CloudWatch** | ë¡œê·¸, ë©”íŠ¸ë¦­ | ì‰¬ì›€ (ì •í™•í•œ ë§¤ì¹­) |
| **Datadog MCP** | ë©”íŠ¸ë¦­, ì¸ì‹œë˜íŠ¸, ì•Œë¦¼ | ì‰¬ì›€ (ì •í™•í•œ ë§¤ì¹­) |
| **Bedrock KB** | ë¬¸ì„œ, ëŸ°ë¶, ê³¼ê±° ì¸ì‹œë˜íŠ¸ | ë³´í†µ (ì˜ë¯¸ë¡ ì ) |

---

## 2. í‰ê°€ê°€ í•„ìš”í•œ ì´ìœ 

### ìœ„í—˜ë„ë³„ ë¬¸ì œ ìœ í˜•

| ë¬¸ì œ | ìœ„í—˜ë„ | ì˜ˆì‹œ |
|------|--------|------|
| **í™˜ê° ë°ì´í„°** | ğŸ”´ Critical | "ì—ëŸ¬ìœ¨ 5%" (ì‹¤ì œ ë„êµ¬ ë°˜í™˜ê°’: 2.3%) |
| **ìœ„í—˜í•œ ê¶Œì¥ì‚¬í•­** | ğŸ”´ Critical | ê²½ê³  ì—†ì´ "í”„ë¡œë•ì…˜ DB ì¬ì‹œì‘" ê¶Œì¥ |
| **ì¼ë°˜ì /ë¬´ì˜ë¯¸í•œ ì¡°ì–¸** | ğŸŸ¡ Medium | "ë¡œê·¸ë¥¼ í™•ì¸í•˜ê³  ì‹œìŠ¤í…œì„ ëª¨ë‹ˆí„°ë§í•˜ì„¸ìš”" |
| **ì¸ì‚¬ì´íŠ¸ ëˆ„ë½** | ğŸŸ¡ Medium | 4ê°œ ì—ëŸ¬ íŒ¨í„´ ì¤‘ 2ê°œë§Œ ì–¸ê¸‰ |
| **êµ¬ì¡° ë¯¸í¡** | ğŸŸ¢ Low | ëª…í™•í•œ ê¶Œì¥ì‚¬í•­ ì„¹ì…˜ ì—†ìŒ |

### OpsAgent í‰ê°€ì˜ íŠ¹ìˆ˜ì„±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          OpsAgent í‰ê°€ê°€ ì¼ë°˜ LLM í‰ê°€ì™€ ë‹¤ë¥¸ ì             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  1. ë°ì´í„° ê¸°ë°˜ ì‘ë‹µ                                        â”‚
â”‚     - ë„êµ¬ ê²°ê³¼ê°€ "ì •ë‹µ"ì˜ ê¸°ì¤€                             â”‚
â”‚     - ê²€ì¦ ìš©ì´: ì‘ë‹µì´ ë„êµ¬ ë°ì´í„°ì™€ ì¼ì¹˜í•˜ëŠ”ê°€?            â”‚
â”‚     - ì°½ì˜ì  ì‘ì—…ê³¼ ë‹¬ë¦¬ ì°¸ì¡° ë°ì´í„°ê°€ ì¡´ì¬                  â”‚
â”‚                                                            â”‚
â”‚  2. ê³ ìœ„í—˜ í™˜ê²½                                             â”‚
â”‚     - ì˜ëª»ëœ ì§„ë‹¨ â†’ ì¥ì•  ì¥ê¸°í™”                             â”‚
â”‚     - ì˜ëª»ëœ ì¡°ì¹˜ â†’ ìƒí™© ì•…í™” ê°€ëŠ¥                          â”‚
â”‚     - ì‚¬ìš©ìê°€ ì—ì´ì „íŠ¸ ë¶„ì„ì„ ì‹ ë¢°                         â”‚
â”‚                                                            â”‚
â”‚  3. ì‹œê°„ ë¯¼ê°ì„±                                             â”‚
â”‚     - ì¸ì‹œë˜íŠ¸ëŠ” ë¹ ë¥¸ ëŒ€ì‘ í•„ìš”                             â”‚
â”‚     - 30ì´ˆ í‰ê°€ ë£¨í”„ëŠ” í—ˆìš© ë¶ˆê°€                            â”‚
â”‚     - ì†ë„ vs ì •í™•ì„± íŠ¸ë ˆì´ë“œì˜¤í”„                           â”‚
â”‚                                                            â”‚
â”‚  4. êµ¬ì¡°í™”ëœ ì¶œë ¥                                           â”‚
â”‚     - ì˜ˆìƒ í˜•ì‹: ìš”ì•½ â†’ ë¶„ì„ â†’ ì¡°ì¹˜                         â”‚
â”‚     - ììœ  í˜•ì‹ í…ìŠ¤íŠ¸ë³´ë‹¤ êµ¬ì¡° ê²€ì¦ì´ ìš©ì´                  â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. ì—°êµ¬ ê¸°ë°˜ ì¸ì‚¬ì´íŠ¸

### ì£¼ìš” ì—°êµ¬ ê²°ê³¼

| ë°œê²¬ | ì‹œì‚¬ì  |
|------|--------|
| **ì™¸ë¶€ ê²€ì¦ ì—†ëŠ” ìê¸° ìˆ˜ì •ì€ ì‹ ë¢°í•  ìˆ˜ ì—†ìŒ** | LLM ìì²´ í‰ê°€ì—ë§Œ ì˜ì¡´í•˜ì§€ ë§ ê²ƒ |
| **ReAct ì—ì´ì „íŠ¸ëŠ” í™˜ê°ë¥ ì´ ê°€ì¥ ë‚®ìŒ** (ì •í™•ë„ëŠ” ì•½ê°„ ë‚®ìŒ) | ì •í™•ë„ì™€ ì‚¬ì‹¤ì  ê·¼ê±° ê°„ íŠ¸ë ˆì´ë“œì˜¤í”„ |
| **ì¼ë°˜ì  ì‘ë‹µì€ ìœ ì‚¬ë„ ì ìˆ˜ë¥¼ ì‰½ê²Œ ë†’ì„** | ëª¨í˜¸í•œ ì‘ë‹µ ê°ì§€ ë° íŒ¨ë„í‹° í•„ìš” |
| **Reflectionì€ ìµœëŒ€ 18.5% ê°œì„  ê°€ëŠ¥** | êµ¬í˜„ ê°€ì¹˜ ìˆìŒ, ë‹¨ ê²€ì¦ê³¼ í•¨ê»˜ |
| **RCA ì •í™•ë„ëŠ” ìµœì„ ì˜ ë°©ë²•ìœ¼ë¡œë„ ~40-48%** | í˜„ì‹¤ì  ê¸°ëŒ€ì¹˜ ì„¤ì • |

### ê¶Œì¥ ì ‘ê·¼ë²•: í•˜ì´ë¸Œë¦¬ë“œ ê²€ì¦

**í•µì‹¬ ì¸ì‚¬ì´íŠ¸**: ìˆœìˆ˜ ìì²´ í‰ê°€(LLMì´ ìŠ¤ìŠ¤ë¡œ íŒë‹¨)ëŠ” ì‹ ë¢°í•  ìˆ˜ ì—†ìŒ. **ì™¸ë¶€ ê²€ì¦ ì‹ í˜¸** í•„ìš”.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  í•˜ì´ë¸Œë¦¬ë“œ ê²€ì¦ ëª¨ë¸                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚   [ì‘ë‹µ ìƒì„±ë¨]                                               â”‚
â”‚          â†“                                                   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                       â”‚
â”‚   â”‚  ê·œì¹™ ê¸°ë°˜ ê²€ì‚¬   â”‚  â† ê²°ì •ë¡ ì , LLM ì•„ë‹˜                 â”‚
â”‚   â”‚  (ì™¸ë¶€ ì‹ í˜¸)      â”‚                                       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                       â”‚
â”‚            â”‚                                                 â”‚
â”‚   ê²€ì‚¬ 1: ë„êµ¬ ë°ì´í„° ì¸ìš©                                    â”‚
â”‚     - ë„êµ¬ ê²°ê³¼ì—ì„œ ì—”í‹°í‹° ì¶”ì¶œ                               â”‚
â”‚     - ì‘ë‹µì— í¬í•¨ ì—¬ë¶€ í™•ì¸                                   â”‚
â”‚     - ì ìˆ˜: ì¸ìš©_ìˆ˜ / ì „ì²´_ì—”í‹°í‹°                             â”‚
â”‚                                                              â”‚
â”‚   ê²€ì‚¬ 2: êµ¬ì²´ì„± ì ìˆ˜                                         â”‚
â”‚     - êµ¬ì²´ì  ìš©ì–´ ìˆ˜ (ì„œë¹„ìŠ¤ëª…, ì—ëŸ¬ì½”ë“œ)                     â”‚
â”‚     - ì¼ë°˜ì  ë¬¸êµ¬ íŒ¨ë„í‹° ("ë¡œê·¸ í™•ì¸", "ëª¨ë‹ˆí„°ë§")            â”‚
â”‚                                                              â”‚
â”‚   ê²€ì‚¬ 3: êµ¬ì¡° ì™„ì „ì„±                                         â”‚
â”‚     - ë¶„ì„ ì„¹ì…˜ ìˆìŒ?                                         â”‚
â”‚     - ê¶Œì¥ì‚¬í•­ ìˆìŒ?                                          â”‚
â”‚     - ì‹¬ê°ë„/ìš°ì„ ìˆœìœ„ ìˆìŒ?                                   â”‚
â”‚            â”‚                                                 â”‚
â”‚            â†“                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                       â”‚
â”‚   â”‚   LLM Reflection â”‚  â† ê·œì¹™ ê²€ì‚¬ í†µê³¼ ì‹œì—ë§Œ (ì„ íƒì )      â”‚
â”‚   â”‚   (ì„ íƒì )        â”‚                                       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                       â”‚
â”‚            â”‚                                                 â”‚
â”‚            â†“                                                 â”‚
â”‚   [PASS] â†’ ì‚¬ìš©ìì—ê²Œ ë°˜í™˜                                    â”‚
â”‚   [FAIL] â†’ í”¼ë“œë°±ê³¼ í•¨ê»˜ ì¬ìƒì„± (ìµœëŒ€ 1íšŒ ì¬ì‹œë„)             â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì°¸ì¡° ë§í¬

- [Galileo - Self-Evaluation in AI](https://galileo.ai/blog/self-evaluation-ai-agents-performance-reasoning-reflection)
- [Microsoft Research - LLM Agents for RCA](https://arxiv.org/html/2403.04123v1)
- [AIOpsLab Framework](https://arxiv.org/abs/2501.06706)
- [Meta LLM Incident Response](https://www.tryparity.com/blog/how-meta-uses-llms-to-improve-incident-response)

---

## 4. ë„êµ¬ë³„ í‰ê°€ ê¸°ì¤€

### 4.1 CloudWatch Tool

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     CLOUDWATCH TOOL                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ë„êµ¬ ë°˜í™˜ê°’:                                                   â”‚
â”‚    - ë¡œê·¸ ì´ë²¤íŠ¸ (timestamp, message, logStreamName)            â”‚
â”‚    - ë©”íŠ¸ë¦­ (CPUUtilization, ErrorRate, Latency)                â”‚
â”‚                                                                 â”‚
â”‚  í‰ê°€ ì²´í¬:                                                     â”‚
â”‚    âœ“ ì¸ìš©ëœ íƒ€ì„ìŠ¤íƒ¬í”„ê°€ ì •í™•í•œê°€?                              â”‚
â”‚    âœ“ ì—ëŸ¬ ë©”ì‹œì§€ê°€ ì˜¬ë°”ë¥´ê²Œ ì¸ìš©ë˜ì—ˆëŠ”ê°€?                       â”‚
â”‚    âœ“ ë©”íŠ¸ë¦­ ê°’ì´ ì •í™•í•œê°€ (í™˜ê° ì•„ë‹Œê°€)?                        â”‚
â”‚    âœ“ ì´ë²¤íŠ¸ ìˆ˜ê°€ ì •í™•í•œê°€? ("4ê±´ì˜ ì—ëŸ¬" - 4ê±´ ë°˜í™˜ ì‹œ)         â”‚
â”‚    âœ“ ë¡œê·¸ ìŠ¤íŠ¸ë¦¼ ì´ë¦„ì´ ì •í™•í•œê°€?                               â”‚
â”‚                                                                 â”‚
â”‚  ì‹¤íŒ¨ ì˜ˆì‹œ:                                                     â”‚
â”‚    ë„êµ¬: "error_rate: 2.3%"                                     â”‚
â”‚    ì‘ë‹µ: "ì—ëŸ¬ìœ¨ì´ 5%ë¡œ ë†’ìŠµë‹ˆë‹¤" â† í™˜ê°                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 Datadog MCP Tool

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     DATADOG MCP TOOL                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ë„êµ¬ ë°˜í™˜ê°’:                                                   â”‚
â”‚    - ë©”íŠ¸ë¦­ (cpu, memory, request_rate, error_rate)             â”‚
â”‚    - ì¸ì‹œë˜íŠ¸ (id, status, severity, title)                     â”‚
â”‚    - ì•Œë¦¼ (triggered, warning, ok)                              â”‚
â”‚                                                                 â”‚
â”‚  í‰ê°€ ì²´í¬:                                                     â”‚
â”‚    âœ“ ë©”íŠ¸ë¦­ ê°’ì´ ì˜¬ë°”ë¥´ê²Œ ì¸ìš©ë˜ì—ˆëŠ”ê°€?                         â”‚
â”‚    âœ“ ì¸ì‹œë˜íŠ¸ ID/ì œëª©ì´ ì •í™•í•œê°€?                               â”‚
â”‚    âœ“ ì‹¬ê°ë„ ë ˆë²¨ì´ ì •í™•í•œê°€?                                    â”‚
â”‚    âœ“ ì•Œë¦¼ ìƒíƒœê°€ ì •í™•í•˜ê²Œ ë³´ê³ ë˜ì—ˆëŠ”ê°€?                         â”‚
â”‚    âœ“ ì‹œê°„ ë²”ìœ„ê°€ ì˜¬ë°”ë¥´ê²Œ ëª…ì‹œë˜ì—ˆëŠ”ê°€?                         â”‚
â”‚                                                                 â”‚
â”‚  ì‹¤íŒ¨ ì˜ˆì‹œ:                                                     â”‚
â”‚    ë„êµ¬: incident severity = "SEV2"                             â”‚
â”‚    ì‘ë‹µ: "ì‹¬ê°í•œ SEV1 ì¸ì‹œë˜íŠ¸" â† ì˜ëª»ëœ ì‹¬ê°ë„                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 Bedrock KB (Vector Store)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   BEDROCK KB (Vector Store)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ë„êµ¬ ë°˜í™˜ê°’:                                                   â”‚
â”‚    - ê´€ë ¨ ë¬¸ì„œ (ëŸ°ë¶, ê³¼ê±° ì¸ì‹œë˜íŠ¸, ë¬¸ì„œ)                      â”‚
â”‚    - ìœ ì‚¬ë„ ì ìˆ˜                                                â”‚
â”‚    - ì†ŒìŠ¤ ì°¸ì¡°                                                  â”‚
â”‚                                                                 â”‚
â”‚  í‰ê°€ ì²´í¬:                                                     â”‚
â”‚    âœ“ ê²€ìƒ‰ëœ ì§€ì‹ì„ ì‘ë‹µì— í™œìš©í–ˆëŠ”ê°€?                           â”‚
â”‚    âœ“ ëŸ°ë¶ ë‹¨ê³„ê°€ ì˜¬ë°”ë¥´ê²Œ ì ìš©ë˜ì—ˆëŠ”ê°€?                         â”‚
â”‚    âœ“ ê³¼ê±° ì¸ì‹œë˜íŠ¸ í•™ìŠµì´ ì°¸ì¡°ë˜ì—ˆëŠ”ê°€?                         â”‚
â”‚    âœ“ ì†ŒìŠ¤ ì¶œì²˜ê°€ ì œê³µë˜ì—ˆëŠ”ê°€?                                  â”‚
â”‚    âœ“ ì§€ì‹ì´ ë¬¸ë§¥ì— ì ì ˆí•œê°€?                                    â”‚
â”‚                                                                 â”‚
â”‚  ì‹¤íŒ¨ ì˜ˆì‹œ:                                                     â”‚
â”‚    KB: "Redis ì¥ì• ì‹œ ë¨¼ì € replica ìƒíƒœ í™•ì¸"                    â”‚
â”‚    ì‘ë‹µ: "Redis ì¬ì‹œì‘í•˜ì„¸ìš”" â† ëŸ°ë¶ ë‹¨ê³„ ëˆ„ë½                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. ë‹¤ì¤‘ ë„êµ¬ ìƒê´€ê´€ê³„ í‰ê°€

### ìƒê´€ê´€ê³„ ê²€ì‚¬

ì—ì´ì „íŠ¸ê°€ ì—¬ëŸ¬ ë„êµ¬ë¥¼ ì‚¬ìš©í•  ë•Œ, í‰ê°€ëŠ” **ë„êµ¬ ê°„ ì¢…í•©**ì„ ê²€ì‚¬í•´ì•¼ í•¨:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ë‹¤ì¤‘ ë„êµ¬ ìƒê´€ê´€ê³„ ê²€ì‚¬                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ì‹œë‚˜ë¦¬ì˜¤: ì‚¬ìš©ì ì§ˆë¬¸ "payment-service ì¥ì•  ì›ì¸ ë¶„ì„í•´ì¤˜"      â”‚
â”‚                                                                 â”‚
â”‚  ë„êµ¬ ê²°ê³¼:                                                     â”‚
â”‚    CloudWatch: "Redis connection timeout" ì—ëŸ¬ (4ê±´)            â”‚
â”‚    Datadog:    Redis CPU 95%, Memory 89%                        â”‚
â”‚    KB:         ëŸ°ë¶ "Redis ê³ ë¶€í•˜ì‹œ ìŠ¤ì¼€ì¼ì—… í•„ìš”"               â”‚
â”‚                                                                 â”‚
â”‚  ì¢‹ì€ ì‘ë‹µ (ìƒê´€ê´€ê³„ ìˆìŒ):                                      â”‚
â”‚    "CloudWatchì—ì„œ Redis timeout ì—ëŸ¬ 4ê±´ ë°œìƒ,                  â”‚
â”‚     Datadogì—ì„œ Redis CPU 95%ë¡œ í™•ì¸ë¨.                          â”‚
â”‚     â†’ ì›ì¸: Redis ê³¼ë¶€í•˜                                         â”‚
â”‚     â†’ KB ëŸ°ë¶ì— ë”°ë¼ ìŠ¤ì¼€ì¼ì—… ê¶Œì¥"                              â”‚
â”‚                                                                 â”‚
â”‚  ë‚˜ìœ ì‘ë‹µ (ìƒê´€ê´€ê³„ ì—†ìŒ):                                      â”‚
â”‚    "CloudWatchì— ì—ëŸ¬ê°€ ìˆìŠµë‹ˆë‹¤.                                â”‚
â”‚     Datadog ë©”íŠ¸ë¦­ì„ í™•ì¸í•˜ì„¸ìš”.                                 â”‚
â”‚     KBì— ê´€ë ¨ ë¬¸ì„œê°€ ìˆìŠµë‹ˆë‹¤."                                  â”‚
â”‚    â† ë‹¨ìˆœ ë‚˜ì—´, ì¢…í•© ì—†ìŒ                                        â”‚
â”‚                                                                 â”‚
â”‚  ìƒê´€ê´€ê³„ ì²´í¬:                                                  â”‚
â”‚    âœ“ CloudWatch ì—ëŸ¬ë¥¼ Datadog ë©”íŠ¸ë¦­ê³¼ ì—°ê²°í–ˆëŠ”ê°€?             â”‚
â”‚    âœ“ ê²°í•©ëœ ë°ì´í„°ì—ì„œ ê·¼ë³¸ ì›ì¸ì„ ì‹ë³„í–ˆëŠ”ê°€?                   â”‚
â”‚    âœ“ KB ì§€ì‹ì„ íŠ¹ì • ìƒí™©ì— ì ìš©í–ˆëŠ”ê°€?                          â”‚
â”‚    âœ“ ê°œë³„ ìš”ì•½ì´ ì•„ë‹Œ í†µí•©ëœ ê²°ë¡ ì´ ìˆëŠ”ê°€?                      â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ë„êµ¬ ì¡°í•©ë³„ í‰ê°€ ë§¤íŠ¸ë¦­ìŠ¤

| ì‚¬ìš© ë„êµ¬ | ì£¼ìš” ê²€ì‚¬ | ë¶€ì°¨ ê²€ì‚¬ |
|----------|----------|----------|
| CloudWatch ë‹¨ë… | ì‚¬ì‹¤ ì •í™•ì„± (ë¡œê·¸/ë©”íŠ¸ë¦­) | ì™„ì „ì„± (ëª¨ë“  ì´ë²¤íŠ¸ í¬í•¨) |
| Datadog ë‹¨ë… | ì‚¬ì‹¤ ì •í™•ì„± (ë©”íŠ¸ë¦­/ì¸ì‹œë˜íŠ¸) | ì‹¬ê°ë„ í‰ê°€ |
| KB ë‹¨ë… | ê²€ìƒ‰ ë¬¸ì„œì˜ ê´€ë ¨ì„± | ì§€ì‹ì˜ ì˜¬ë°”ë¥¸ ì ìš© |
| CloudWatch + Datadog | **ì‹ í˜¸ ê°„ ìƒê´€ê´€ê³„** | í†µí•©ëœ ê·¼ë³¸ ì›ì¸ |
| CloudWatch + KB | ë¡œê·¸ íŒ¨í„´ì— ì§€ì‹ ì ìš© | ëŸ°ë¶ ë‹¨ê³„ ì¤€ìˆ˜ |
| Datadog + KB | ë©”íŠ¸ë¦­ì— ì§€ì‹ ì ìš© | ê³¼ê±° ì¸ì‹œë˜íŠ¸ í•™ìŠµ í™œìš© |
| **ì„¸ ë„êµ¬ ëª¨ë‘** | **ì™„ì „í•œ ì¢…í•©** | ê·¼ë³¸ ì›ì¸ + ì¦ê±° + ì¡°ì¹˜ |

---

## 6. í‰ê°€ ì•„í‚¤í…ì²˜

### ë°ì´í„° íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    í‰ê°€ ë°ì´í„° íë¦„                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚   ì‚¬ìš©ì ì§ˆë¬¸: "payment-service 500 ì—ëŸ¬ ë¶„ì„í•´ì¤˜"               â”‚
â”‚         â”‚                                                        â”‚
â”‚         â–¼                                                        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚   â”‚           ì—ì´ì „íŠ¸ ì‹¤í–‰                  â”‚                    â”‚
â”‚   â”‚                                         â”‚                    â”‚
â”‚   â”‚   Tool 1: cloudwatch_filter_logs()      â”‚                    â”‚
â”‚   â”‚     â†’ log_results: [{...}, {...}]       â”‚                    â”‚
â”‚   â”‚                                         â”‚                    â”‚
â”‚   â”‚   Tool 2: datadog_get_metrics()         â”‚                    â”‚
â”‚   â”‚     â†’ metric_results: {cpu: 85, ...}    â”‚                    â”‚
â”‚   â”‚                                         â”‚                    â”‚
â”‚   â”‚   Tool 3: kb_search()                   â”‚                    â”‚
â”‚   â”‚     â†’ kb_results: [{doc: "...", ...}]   â”‚                    â”‚
â”‚   â”‚                                         â”‚                    â”‚
â”‚   â”‚   LLM ì‘ë‹µ: "ë¶„ì„ ê²°ê³¼..."               â”‚                    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚         â”‚                                                        â”‚
â”‚         â–¼                                                        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚   â”‚           í‰ê°€ ë‹¨ê³„                      â”‚                    â”‚
â”‚   â”‚                                         â”‚                    â”‚
â”‚   â”‚   ì…ë ¥:                                 â”‚                    â”‚
â”‚   â”‚     - response (LLM ì¶œë ¥)               â”‚                    â”‚
â”‚   â”‚     - tool_results: {                   â”‚                    â”‚
â”‚   â”‚         cloudwatch: [...],              â”‚                    â”‚
â”‚   â”‚         datadog: {...},                 â”‚                    â”‚
â”‚   â”‚         kb: [...]                       â”‚                    â”‚
â”‚   â”‚       }                                 â”‚                    â”‚
â”‚   â”‚                                         â”‚                    â”‚
â”‚   â”‚   ê²€ì‚¬:                                 â”‚                    â”‚
â”‚   â”‚     1. CloudWatch ì •í™•ì„± ê²€ì‚¬           â”‚                    â”‚
â”‚   â”‚     2. Datadog ì •í™•ì„± ê²€ì‚¬              â”‚                    â”‚
â”‚   â”‚     3. KB ê´€ë ¨ì„± ê²€ì‚¬                   â”‚                    â”‚
â”‚   â”‚     4. ë„êµ¬ ê°„ ìƒê´€ê´€ê³„ ê²€ì‚¬            â”‚                    â”‚
â”‚   â”‚                                         â”‚                    â”‚
â”‚   â”‚   ì¶œë ¥:                                 â”‚                    â”‚
â”‚   â”‚     - scores: {cw: 0.9, dd: 0.8, ...}   â”‚                    â”‚
â”‚   â”‚     - passed: True/False                â”‚                    â”‚
â”‚   â”‚     - feedback: "..." (ì‹¤íŒ¨ ì‹œ)         â”‚                    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚         â”‚                                                        â”‚
â”‚         â–¼                                                        â”‚
â”‚   [PASS] â†’ ì‚¬ìš©ìì—ê²Œ ë°˜í™˜                                       â”‚
â”‚   [FAIL] â†’ í”¼ë“œë°±ê³¼ í•¨ê»˜ ì¬ìƒì„±                                  â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### í‰ê°€ ê¸°ì¤€ ìš”ì•½

| ì¹´í…Œê³ ë¦¬ | ê¸°ì¤€ | ê°€ì¤‘ì¹˜ | ê²€ì‚¬ ë°©ë²• |
|----------|------|--------|----------|
| **CloudWatch ì •í™•ì„±** | ë¡œê·¸ ë°ì´í„° ì˜¬ë°”ë¥´ê²Œ ì¸ìš© | 25% | ê·œì¹™: ì—”í‹°í‹° ì¶”ì¶œ |
| **Datadog ì •í™•ì„±** | ë©”íŠ¸ë¦­ ì˜¬ë°”ë¥´ê²Œ ì¸ìš© | 25% | ê·œì¹™: ê°’ ë§¤ì¹­ |
| **KB í™œìš©** | ì§€ì‹ ì ì ˆíˆ ì ìš© | 20% | ê·œì¹™: ì¸ìš© ê²€ì‚¬ |
| **ë„êµ¬ ê°„ ìƒê´€ê´€ê³„** | ë°ì´í„°ë¥¼ ì¸ì‚¬ì´íŠ¸ë¡œ ì¢…í•© | 20% | ê·œì¹™/LLM: íŒ¨í„´ ê²€ì‚¬ |
| **ì‹¤í–‰ ê°€ëŠ¥ì„±** | ëª…í™•í•˜ê³  ì•ˆì „í•œ ê¶Œì¥ì‚¬í•­ | 10% | ê·œì¹™: êµ¬ì¡° ê²€ì‚¬ |

---

## 7. êµ¬í˜„ ê³„íš

### í”„ë¡œì íŠ¸ êµ¬ì¡°

```
src/ops_agent/
â”œâ”€â”€ agent/
â”‚   â””â”€â”€ ops_agent.py          # í‰ê°€ í†µí•©ì„ ìœ„í•´ ìˆ˜ì •
â”œâ”€â”€ evaluation/               # NEW - í‰ê°€ ëª¨ë“ˆ
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ evaluator.py          # ë©”ì¸ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°
â”‚   â”œâ”€â”€ models.py             # ë°ì´í„° ëª¨ë¸ (EvalResult, ToolResult)
â”‚   â”œâ”€â”€ checkers/             # ë„êµ¬ë³„ ê²€ì‚¬ê¸°
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ base.py           # BaseChecker ì¶”ìƒ í´ë˜ìŠ¤
â”‚   â”‚   â”œâ”€â”€ cloudwatch.py     # CloudWatch ì •í™•ì„± ê²€ì‚¬ê¸°
â”‚   â”‚   â”œâ”€â”€ datadog.py        # Datadog ì •í™•ì„± ê²€ì‚¬ê¸°
â”‚   â”‚   â””â”€â”€ knowledge_base.py # KB ê´€ë ¨ì„± ê²€ì‚¬ê¸°
â”‚   â”œâ”€â”€ correlation.py        # ë„êµ¬ ê°„ ìƒê´€ê´€ê³„ ê²€ì‚¬ê¸°
â”‚   â””â”€â”€ feedback.py           # ì¬ìƒì„±ìš© í”¼ë“œë°± ìƒì„±ê¸°
â””â”€â”€ tools/
    â””â”€â”€ cloudwatch.py         # ê¸°ì¡´ ë„êµ¬
```

### êµ¬í˜„ ë‹¨ê³„

#### Step 1: ë°ì´í„° ëª¨ë¸ ì •ì˜

```python
# src/ops_agent/evaluation/models.py

from dataclasses import dataclass, field
from enum import Enum
from typing import Any

class ToolType(Enum):
    CLOUDWATCH = "cloudwatch"
    DATADOG = "datadog"
    KNOWLEDGE_BASE = "knowledge_base"

class EvalVerdict(Enum):
    PASS = "pass"
    REGENERATE = "regenerate"
    BLOCK = "block"

@dataclass
class ToolResult:
    """ìº¡ì²˜ëœ ë„êµ¬ ì‹¤í–‰ ê²°ê³¼."""
    tool_type: ToolType
    tool_name: str
    tool_input: dict[str, Any]
    tool_output: dict[str, Any]

@dataclass
class CheckResult:
    """ë‹¨ì¼ ê²€ì‚¬ê¸°ì˜ ê²°ê³¼."""
    checker_name: str
    score: float  # 0.0 - 1.0
    passed: bool
    issues: list[str] = field(default_factory=list)
    details: dict[str, Any] = field(default_factory=dict)

@dataclass
class EvalResult:
    """ìµœì¢… í‰ê°€ ê²°ê³¼."""
    verdict: EvalVerdict
    overall_score: float
    check_results: list[CheckResult]
    feedback: str | None = None
```

#### Step 2: ê¸°ë³¸ ê²€ì‚¬ê¸° ì¸í„°í˜ì´ìŠ¤

```python
# src/ops_agent/evaluation/checkers/base.py

from abc import ABC, abstractmethod
from ops_agent.evaluation.models import CheckResult, ToolResult

class BaseChecker(ABC):
    """ë„êµ¬ë³„ ê²€ì‚¬ê¸°ë¥¼ ìœ„í•œ ì¶”ìƒ ê¸°ë³¸ í´ë˜ìŠ¤."""

    @property
    @abstractmethod
    def name(self) -> str:
        """ë¡œê¹…ìš© ê²€ì‚¬ê¸° ì´ë¦„."""
        pass

    @abstractmethod
    def check(
        self,
        response: str,
        tool_results: list[ToolResult]
    ) -> CheckResult:
        """ë„êµ¬ ê²°ê³¼ ëŒ€ë¹„ ì‘ë‹µ í‰ê°€."""
        pass
```

#### Step 3: CloudWatch ê²€ì‚¬ê¸° (ì²« êµ¬í˜„)

```python
# src/ops_agent/evaluation/checkers/cloudwatch.py

class CloudWatchChecker(BaseChecker):
    """ì‘ë‹µ ë‚´ CloudWatch ë°ì´í„°ì˜ ì‚¬ì‹¤ ì •í™•ì„± ê²€ì‚¬."""

    @property
    def name(self) -> str:
        return "cloudwatch_accuracy"

    def check(self, response: str, tool_results: list[ToolResult]) -> CheckResult:
        # CloudWatch ê²°ê³¼ë§Œ í•„í„°ë§
        cw_results = [r for r in tool_results if r.tool_type == ToolType.CLOUDWATCH]

        if not cw_results:
            return CheckResult(checker_name=self.name, score=1.0, passed=True)

        issues = []
        total_checks = 0
        passed_checks = 0

        for result in cw_results:
            output = result.tool_output

            # ê²€ì‚¬ 1: ì´ë²¤íŠ¸ ìˆ˜ ì •í™•ì„±
            # ê²€ì‚¬ 2: ì—ëŸ¬ ë©”ì‹œì§€ ì¸ìš© ì—¬ë¶€
            # ê²€ì‚¬ 3: ë¡œê·¸ ê·¸ë£¹ ì–¸ê¸‰ ì—¬ë¶€
            ...

        score = passed_checks / total_checks if total_checks > 0 else 1.0

        return CheckResult(
            checker_name=self.name,
            score=score,
            passed=score >= 0.7,
            issues=issues
        )
```

#### Step 4: ë©”ì¸ í‰ê°€ê¸°

```python
# src/ops_agent/evaluation/evaluator.py

class OpsAgentEvaluator:
    """ë©”ì¸ í‰ê°€ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°."""

    def __init__(self, pass_threshold: float = 0.7):
        self.pass_threshold = pass_threshold
        self.checkers = [
            CloudWatchChecker(),
            # DatadogChecker(),       # Phase 2
            # KnowledgeBaseChecker(), # Phase 3
        ]

    def evaluate(self, response: str, tool_results: list[ToolResult]) -> EvalResult:
        check_results = []

        # ëª¨ë“  ê²€ì‚¬ê¸° ì‹¤í–‰
        for checker in self.checkers:
            result = checker.check(response, tool_results)
            check_results.append(result)

        # ì „ì²´ ì ìˆ˜ ê³„ì‚°
        overall_score = self._calculate_overall_score(check_results)

        # íŒì • ê²°ì •
        verdict = self._determine_verdict(overall_score, check_results)

        # ì¬ìƒì„± í•„ìš” ì‹œ í”¼ë“œë°± ìƒì„±
        feedback = self._generate_feedback(check_results) if verdict == EvalVerdict.REGENERATE else None

        return EvalResult(
            verdict=verdict,
            overall_score=overall_score,
            check_results=check_results,
            feedback=feedback
        )
```

#### Step 5: OpsAgentì™€ í†µí•©

```python
# src/ops_agent/agent/ops_agent.py (ìˆ˜ì •)

class OpsAgent:
    def __init__(self, max_regenerations: int = 1, enable_evaluation: bool = True):
        self.max_regenerations = max_regenerations
        self.evaluator = OpsAgentEvaluator() if enable_evaluation else None

    def invoke(self, prompt: str) -> str:
        for attempt in range(self.max_regenerations + 1):
            # ì—ì´ì „íŠ¸ ìƒì„± ë° ì‘ë‹µ íšë“
            response = self._execute_agent(prompt, attempt)

            # í‰ê°€ ë¹„í™œì„±í™” ì‹œ ìŠ¤í‚µ
            if not self.evaluator:
                return response

            # ì‘ë‹µ í‰ê°€
            eval_result = self.evaluator.evaluate(response, self._captured_tool_results)

            if eval_result.verdict == EvalVerdict.PASS:
                return response

            if eval_result.verdict == EvalVerdict.REGENERATE and attempt < self.max_regenerations:
                self._regeneration_feedback = eval_result.feedback
                continue

            return response  # ìµœëŒ€ ì‹œë„ ë„ë‹¬ ë˜ëŠ” BLOCK
```

### êµ¬í˜„ í˜ì´ì¦ˆ

| í˜ì´ì¦ˆ | ë²”ìœ„ | ì‚°ì¶œë¬¼ |
|--------|------|--------|
| **Phase 1** | CloudWatchë§Œ | `CloudWatchChecker` + ê¸°ë³¸ í†µí•© |
| **Phase 2** | + Datadog | `DatadogChecker` |
| **Phase 3** | + Knowledge Base | `KnowledgeBaseChecker` |
| **Phase 4** | ë„êµ¬ ê°„ | `CorrelationChecker` |
| **Phase 5** | ìµœì í™” | ì„ê³„ê°’, ê°€ì¤‘ì¹˜ íŠœë‹ |

### í…ŒìŠ¤íŠ¸ ì „ëµ

```python
# tests/test_evaluation.py

def test_cloudwatch_checker_detects_hallucination():
    """CloudWatch ê²€ì‚¬ê¸°ê°€ í™˜ê° ë°ì´í„°ë¥¼ ê°ì§€í•˜ëŠ”ì§€ í…ŒìŠ¤íŠ¸."""
    checker = CloudWatchChecker()

    tool_results = [ToolResult(
        tool_type=ToolType.CLOUDWATCH,
        tool_name="cloudwatch_filter_log_events",
        tool_input={},
        tool_output={
            "event_count": 4,
            "events": [{"message": "[ERROR] 500 - Connection timeout"}]
        }
    )]

    # ì¢‹ì€ ì‘ë‹µ - ì •í™•í•œ ë°ì´í„° ì¸ìš©
    good_response = "4ê±´ì˜ ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. Connection timeout ì˜¤ë¥˜ì…ë‹ˆë‹¤."
    result = checker.check(good_response, tool_results)
    assert result.passed

    # ë‚˜ìœ ì‘ë‹µ - ì˜ëª»ëœ ìˆ˜
    bad_response = "10ê±´ì˜ ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤."
    result = checker.check(bad_response, tool_results)
    assert not result.passed
```

---

## 8. ì°¸ì¡°

### ì—°êµ¬ ë…¼ë¬¸ ë° ë¬¸ì„œ

| ì œëª© | ì„¤ëª… | ë§í¬ |
|------|------|------|
| AIOpsLab Framework | AIOps AI ì—ì´ì „íŠ¸ í‰ê°€ë¥¼ ìœ„í•œ í†µí•© í”„ë ˆì„ì›Œí¬ | [arXiv](https://arxiv.org/abs/2501.06706) |
| LLM Agents for RCA | ê·¼ë³¸ ì›ì¸ ë¶„ì„ì„ ìœ„í•œ LLM ê¸°ë°˜ ì—ì´ì „íŠ¸ íƒêµ¬ (Microsoft) | [arXiv](https://arxiv.org/html/2403.04123v1) |
| Self-Evaluation in AI | AI ì—ì´ì „íŠ¸ì˜ ìì²´ í‰ê°€ ë° Reflection | [Galileo](https://galileo.ai/blog/self-evaluation-ai-agents-performance-reasoning-reflection) |
| Meta LLM Incident Response | Metaì˜ ì¸ì‹œë˜íŠ¸ ëŒ€ì‘ LLM í™œìš© ì‚¬ë¡€ | [Parity](https://www.tryparity.com/blog/how-meta-uses-llms-to-improve-incident-response) |

### ì°¸ì¡° ì½”ë“œ

| í”„ë¡œì íŠ¸ | ì„¤ëª… | ë§í¬ |
|----------|------|------|
| Self-Correcting Translation Agent | GraphBuilder, FunctionNode, ì¡°ê±´ë¶€ ì—£ì§€ íŒ¨í„´ | [GitHub - graph](https://github.com/gonsoomoon-ml/Self-Correcting-Explainable-Translation-Agent/tree/main/01_explainable_translate_agent/src/graph) |

### ì„¤ê³„ ê²°ì • ì‚¬í•­

| ì§ˆë¬¸ | ì˜µì…˜ | ê³ ë ¤ì‚¬í•­ |
|------|------|----------|
| **ì–¸ì œ í‰ê°€?** | í•­ìƒ / ë‹¤ì¤‘ ë„êµ¬ë§Œ / ë³µì¡í•œ ê²½ìš°ë§Œ | í•­ìƒìœ¼ë¡œ ì‹œì‘, ì´í›„ ìµœì í™” |
| **KB ê´€ë ¨ì„± ê²€ì‚¬** | ê·œì¹™ ê¸°ë°˜ / LLM ê¸°ë°˜ | KBëŠ” ì˜ë¯¸ë¡ ì , LLM í•„ìš”í•  ìˆ˜ ìˆìŒ |
| **ìƒê´€ê´€ê³„ ê²€ì‚¬** | ê·œì¹™ ê¸°ë°˜ / LLM ê¸°ë°˜ | ë³µì¡í•œ ì¢…í•©ì€ LLM í•„ìš”í•  ìˆ˜ ìˆìŒ |
| **ì‹¤íŒ¨ ì„ê³„ê°’** | 0.6 / 0.7 / 0.8 | ë„ˆë¬´ ì—„ê²© = ëŠë¦¼, ë„ˆë¬´ ëŠìŠ¨ = ì €í’ˆì§ˆ |
| **ìµœëŒ€ ì¬ìƒì„±** | 0 / 1 / 2 | 1ì´ ì ì ˆí•œ ê· í˜•ì  |

---

*ì´ ë¬¸ì„œëŠ” OpsAgent í‰ê°€ ì‹œìŠ¤í…œ ì„¤ê³„ë¥¼ ìœ„í•œ ê³„íš ë¬¸ì„œì…ë‹ˆë‹¤.*
